{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JoshuaTan\\\\Desktop\\\\link\\\\frontend\\\\src\\\\screens\\\\Main.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAPI } from \"../utils/useAPI\";\nimport Header from \"../components/Main/Header\";\nimport Platforms from \"../components/Home/Platforms\";\nimport \"./styles/Main.css\";\nimport HomeListing from \"../components/Home/HomeListing\";\n\nconst Main = props => {\n  const [sendRequest, isLoading] = useAPI();\n  const [listings, setListings] = useState([]); // get listings to display on front page\n\n  useEffect(() => {\n    // async function to get listings\n    const getListings = async () => {\n      const listingsFromServer = await sendRequest(`/api/search/keyword/switch`);\n      setListings(listingsFromServer.matchedListings);\n    }; // call async function\n\n\n    getListings();\n  }, []); // function to display listings\n\n  const displayListings = useCallback(() => {\n    if (isLoading) {\n      // loading screen\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 14\n        }\n      }, \"Loading\");\n    } else {\n      return listings.map(listing => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `/listing/${listing.title}`,\n          search: `${listing.listingId}`\n        },\n        key: listing.listingId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(HomeListing, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }, [listings]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainScreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"display\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Platforms, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, displayListings())));\n};\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/JoshuaTan/Desktop/link/frontend/src/screens/Main.js"],"names":["React","useState","useEffect","useCallback","Link","useAPI","Header","Platforms","HomeListing","Main","props","sendRequest","isLoading","listings","setListings","getListings","listingsFromServer","matchedListings","displayListings","map","listing","pathname","title","search","listingId"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAO,mBAAP;AACA,OAAOC,WAAP,MAAwB,gCAAxB;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,QAAM,CAACC,WAAD,EAAcC,SAAd,IAA2BP,MAAM,EAAvC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC,CAFsB,CAItB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMa,WAAW,GAAG,YAAY;AAC9B,YAAMC,kBAAkB,GAAG,MAAML,WAAW,CACzC,4BADyC,CAA5C;AAGAG,MAAAA,WAAW,CAACE,kBAAkB,CAACC,eAApB,CAAX;AACD,KALD,CAFc,CASd;;;AACAF,IAAAA,WAAW;AACZ,GAXQ,EAWN,EAXM,CAAT,CALsB,CAkBtB;;AACA,QAAMG,eAAe,GAAGf,WAAW,CAAC,MAAM;AACxC,QAAIS,SAAJ,EAAe;AACb;AACA,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACD,KAHD,MAGO;AACL,aAAOC,QAAQ,CAACM,GAAT,CAAcC,OAAD,iBAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAE;AACFC,UAAAA,QAAQ,EAAG,YAAWD,OAAO,CAACE,KAAM,EADlC;AAEFC,UAAAA,MAAM,EAAG,GAAEH,OAAO,CAACI,SAAU;AAF3B,SADN;AAKE,QAAA,GAAG,EAAEJ,OAAO,CAACI,SALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF,CADK,CAAP;AAaD;AACF,GAnBkC,EAmBhC,CAACX,QAAD,CAnBgC,CAAnC;AAqBA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BK,eAAe,EAA1C,CAFF,CAFF,CADF;AASD,CAjDD;;AAmDA,eAAeT,IAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAPI } from \"../utils/useAPI\";\r\n\r\nimport Header from \"../components/Main/Header\";\r\nimport Platforms from \"../components/Home/Platforms\";\r\nimport \"./styles/Main.css\";\r\nimport HomeListing from \"../components/Home/HomeListing\";\r\n\r\nconst Main = (props) => {\r\n  const [sendRequest, isLoading] = useAPI();\r\n  const [listings, setListings] = useState([]);\r\n\r\n  // get listings to display on front page\r\n  useEffect(() => {\r\n    // async function to get listings\r\n    const getListings = async () => {\r\n      const listingsFromServer = await sendRequest(\r\n        `/api/search/keyword/switch`\r\n      );\r\n      setListings(listingsFromServer.matchedListings);\r\n    };\r\n\r\n    // call async function\r\n    getListings();\r\n  }, []);\r\n\r\n  // function to display listings\r\n  const displayListings = useCallback(() => {\r\n    if (isLoading) {\r\n      // loading screen\r\n      return <div>Loading</div>;\r\n    } else {\r\n      return listings.map((listing) => (\r\n        <div>\r\n          <Link\r\n            to={{\r\n              pathname: `/listing/${listing.title}`,\r\n              search: `${listing.listingId}`,\r\n            }}\r\n            key={listing.listingId}\r\n          >\r\n            <HomeListing />\r\n          </Link>\r\n        </div>\r\n      ));\r\n    }\r\n  }, [listings]);\r\n\r\n  return (\r\n    <div className=\"mainScreen\">\r\n      <Header />\r\n      <div className=\"display\">\r\n        <Platforms />\r\n        <div className=\"listings\">{displayListings()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}