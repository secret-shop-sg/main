{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marcus\\\\link\\\\frontend\\\\src\\\\screens\\\\ListingDetails.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../components/Main/Header\";\nimport BACKENDADDRESS from \"../constants/BackendAddress\";\nimport \"../constants/styles/Bootstrap.css\";\nimport \"./styles/ListingDetails.css\";\nimport Headernew from \"../components/Main/headernew\";\nimport { BsChatFill, BsHeartFill } from \"react-icons/bs\";\n\nconst ListingDetails = props => {\n  const listingID = props.location.search.substring(1); // isLoading == true when browser is waiting for api\n\n  const [isLoading, setIsLoading] = useState(false); // listingToDisplay = Main listing\n\n  const [listingToDisplay, setListingToDisplay] = useState(); // similarListings = An array of max 3 listings on the same platform as main listing\n\n  const [similarListings, setSimilarListings] = useState();\n  useEffect(() => {\n    setIsLoading(true);\n\n    const getListing = async () => {\n      try {\n        const response = await fetch(`${BACKENDADDRESS}/api/listing/${listingID}`);\n        const responseData = await response.json();\n        setListingToDisplay(responseData.listingToDisplay);\n        setSimilarListings(responseData.similarListings);\n      } catch (err) {\n        console.log(err);\n      }\n\n      setIsLoading(false);\n    };\n\n    getListing();\n  }, [listingID]);\n  const [liked, setliked] = useState(false);\n\n  function likehandler() {\n    setliked(true);\n  }\n\n  function likedhandler() {\n    setliked(false);\n  }\n\n  console.log(similarListings);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), !isLoading && listingToDisplay && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"headerdiv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"listingtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, listingToDisplay.title), /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"platform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"For the \", listingToDisplay.platform)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-3 float-left text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"listingimage\",\n    src: listingToDisplay.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-6 details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"owner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Owned by: \", listingToDisplay.owner), !liked ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: likehandler,\n    className: \"btn-like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(BsHeartFill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \" \"), \"Like!\")) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: likedhandler,\n    className: \"btn-liked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(BsHeartFill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \" \"), \"Like!\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-cop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BsChatFill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, \" \"), \"Make an Offer!\"))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Listed on: \", listingToDisplay.dateListed), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, listingToDisplay.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-3 float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Other Listings\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), similarListings.length === 0 ? null : similarListings.map(listings => {\n    const [listingId, image, title, owner] = listings;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"reccomendationimg\",\n      className: \"col-3 float-right\",\n      key: listingId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container col-3 float-left recommendationimgextend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"imgsuggested\",\n      src: image.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recommendationtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, title), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"Owned by \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 32\n      }\n    }, owner))));\n  })));\n};\n\nexport default ListingDetails;","map":{"version":3,"sources":["C:/Users/marcus/link/frontend/src/screens/ListingDetails.js"],"names":["React","useState","useEffect","Header","BACKENDADDRESS","Headernew","BsChatFill","BsHeartFill","ListingDetails","props","listingID","location","search","substring","isLoading","setIsLoading","listingToDisplay","setListingToDisplay","similarListings","setSimilarListings","getListing","response","fetch","responseData","json","err","console","log","liked","setliked","likehandler","likedhandler","title","platform","image","owner","dateListed","description","length","map","listings","listingId","url"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Header from \"../components/Main/Header\";\r\nimport BACKENDADDRESS from \"../constants/BackendAddress\";\r\nimport \"../constants/styles/Bootstrap.css\";\r\nimport \"./styles/ListingDetails.css\";\r\nimport Headernew from \"../components/Main/headernew\";\r\nimport { BsChatFill, BsHeartFill } from \"react-icons/bs\";\r\n\r\nconst ListingDetails = (props) => {\r\n  const listingID = props.location.search.substring(1);\r\n  // isLoading == true when browser is waiting for api\r\n  const [isLoading,setIsLoading] = useState(false);\r\n  // listingToDisplay = Main listing\r\n  const [listingToDisplay, setListingToDisplay] = useState();\r\n  // similarListings = An array of max 3 listings on the same platform as main listing\r\n  const [similarListings, setSimilarListings] = useState();\r\n  \r\n  useEffect(()=>{\r\n    setIsLoading(true);\r\n\r\n    const getListing = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `${BACKENDADDRESS}/api/listing/${listingID}`\r\n        );\r\n        const responseData = await response.json();\r\n        setListingToDisplay(responseData.listingToDisplay);\r\n        setSimilarListings(responseData.similarListings);\r\n      }\r\n      catch(err){\r\n        console.log(err);\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    getListing();\r\n  }, [listingID]);\r\n  const [liked, setliked] = useState(false);\r\n\r\n  function likehandler() {\r\n    setliked(true);\r\n  }\r\n  function likedhandler() {\r\n    setliked(false);\r\n  }\r\n  console.log(similarListings)\r\n  return (\r\n    <div>\r\n      <Header />\r\n      {!isLoading && listingToDisplay && (\r\n        <div>\r\n          <div id=\"headerdiv\">\r\n            <h2 id=\"listingtitle\">{listingToDisplay.title}</h2>\r\n            <h3 id=\"platform\">For the {listingToDisplay.platform}</h3>\r\n          </div>\r\n          <div className=\"container col-3 float-left text-center\">\r\n            <img id=\"listingimage\" src={listingToDisplay.image} />\r\n          </div>\r\n          <div className=\"container col-6 details\">\r\n            <p>\r\n              <span className=\"owner\">Owned by: {listingToDisplay.owner}</span>\r\n              {!liked ? (\r\n                <span>\r\n                  <button onClick={likehandler} className=\"btn-like\">\r\n                    <BsHeartFill />\r\n                    <span> </span>Like!\r\n                  </button>\r\n                </span>\r\n              ) : (\r\n                <span>\r\n                  <button onClick={likedhandler} className=\"btn-liked\">\r\n                    <BsHeartFill />\r\n                    <span> </span>Like!\r\n                  </button>\r\n                </span>\r\n              )}\r\n              <span>\r\n                <button className=\"btn-cop\">\r\n                  <BsChatFill />\r\n                  <span> </span>Make an Offer!\r\n                </button>\r\n              </span>\r\n            </p>\r\n            <hr></hr>\r\n            <p>Listed on: {listingToDisplay.dateListed}</p>\r\n            <p>{listingToDisplay.description}</p>\r\n          </div>\r\n            <div className=\"container col-3 float-right\">\r\n              <h2>Other Listings</h2>\r\n              <hr></hr>\r\n            </div>\r\n            {similarListings.length===0 ? null : \r\n              similarListings.map(listings => {\r\n                const [listingId, image, title, owner] = listings;\r\n                return(\r\n                <div id=\"reccomendationimg\" className=\"col-3 float-right\" key={listingId}>\r\n                  <div className=\"container col-3 float-left recommendationimgextend\">\r\n                    <img\r\n                      className=\"imgsuggested\"\r\n                      src={image.url}\r\n                    />\r\n                  </div>\r\n                  <div className=\"recommendationtitle\">\r\n                    <h4>{title}</h4>\r\n                    <p>\r\n                      Owned by <strong>{owner}</strong>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                )\r\n                })\r\n          }\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListingDetails;\r\n"]},"metadata":{},"sourceType":"module"}